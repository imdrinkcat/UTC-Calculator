<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<title>UTCç´¯è®¡ç§’è®¡ç®—å™¨ï¼ˆèµ·ç‚¹ä¸ºåŒ—äº¬æ—¶é—´ï¼‰</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background:#f4f4f9;
    color:#333;
    padding:20px;
    text-align:center;
  }
  h1 { color:#4CAF50; }
  label { display:block; margin:14px 0 6px; }
  input[type="text"] {
    width: calc(100% - 40px);
    max-width:500px;
    padding:10px;
    font-size:16px;
    border:1px solid #ccc;
    border-radius:6px;
    box-sizing:border-box;
    margin:6px auto;
  }
  button {
    background:#4CAF50;
    color:white;
    border:none;
    padding:10px 18px;
    font-size:16px;
    border-radius:6px;
    cursor:pointer;
    margin-top:16px;
  }
  button:hover { background:#45a049; }
  #result { margin-top:18px; font-size:18px; }
  .note { font-size:13px; color:#666; margin-top:8px; }
</style>
</head>
<body>
  <h1>UTCç´¯è®¡ç§’è®¡ç®—å™¨ï¼ˆèµ·ç‚¹ä¸ºåŒ—äº¬æ—¶é—´ï¼‰</h1>

  <label>UTCèµ·ç‚¹æ—¶é—´ï¼ˆåŒ—äº¬æ—¶é—´ï¼Œæ ¼å¼ï¼šYYYY-MM-DD HH:mm:ssï¼‰ï¼š</label>
  <input type="text" id="start-dt" value="2009-01-01 00:00:00">

  <label>è¾“å…¥æ—¶é—´ï¼ˆåŒ—äº¬æ—¶é—´ï¼Œæ ¼å¼ï¼šYYYY-MM-DD HH:mm:ssï¼‰ï¼š</label>
  <input type="text" id="input-dt" value="2009-01-01 00:00:00">

  <button onclick="calculate()">è®¡ç®—UTCç´¯è®¡ç§’</button>

  <div id="result"></div>
  <div class="note">
    ğŸ“˜ æç¤ºï¼šèµ·ç‚¹ä¸è¾“å…¥æ—¶é—´éƒ½æŒ‰åŒ—äº¬æ—¶é—´ (UTC+8) è¾“å…¥ã€‚<br>
    ç¨‹åºè‡ªåŠ¨è½¬æ¢ä¸º UTC åè®¡ç®—æ—¶é—´å·®ã€‚
  </div>

<script>
  // è§£æ YYYY-MM-DD HH:mm:ssï¼Œè¿”å› UTC æ¯«ç§’æ—¶é—´æˆ³ï¼ˆå‡è®¾è¾“å…¥ä¸ºåŒ—äº¬æ—¶é—´ï¼‰
  function parseBeijingToUTC(inputStr) {
    const s = (inputStr || '').trim();
    const m = s.match(/^(\d{4})-(\d{2})-(\d{2})[ T](\d{2}):(\d{2})(?::(\d{2}))?$/);
    if (!m) return null;
    const y = Number(m[1]), mo = Number(m[2]) - 1, d = Number(m[3]);
    const hh = Number(m[4]), mm = Number(m[5]), ss = Number(m[6] || '0');
    const localMs = Date.UTC(y, mo, d, hh, mm, ss);
    const utcMs = localMs - 8 * 3600 * 1000; // è½¬æ¢ä¸º UTC æ¯«ç§’
    return utcMs;
  }

  function calculate() {
    const startStr = document.getElementById('start-dt').value;
    const inputStr = document.getElementById('input-dt').value;

    const startUtc = parseBeijingToUTC(startStr);
    const inputUtc = parseBeijingToUTC(inputStr);

    if (startUtc === null || inputUtc === null) {
      document.getElementById('result').innerText = 'âŒ è¾“å…¥æ ¼å¼é”™è¯¯ï¼Œè¯·ä½¿ç”¨ YYYY-MM-DD HH:mm:ss';
      return;
    }

    const diffSec = Math.floor((inputUtc - startUtc) / 1000);
    const startUtcIso = new Date(startUtc).toISOString().replace('T', ' ').replace('Z',' UTC');
    const inputUtcIso = new Date(inputUtc).toISOString().replace('T', ' ').replace('Z',' UTC');

    document.getElementById('result').innerHTML =
      `<strong>UTCç´¯è®¡ç§’ï¼š</strong> ${diffSec} ç§’<br>
       <small>ï¼ˆèµ·ç‚¹å¯¹åº” UTCï¼š${startUtcIso}ï¼Œè¾“å…¥å¯¹åº” UTCï¼š${inputUtcIso}ï¼‰</small>`;
  }
</script>
</body>
</html>
